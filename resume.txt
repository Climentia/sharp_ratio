シャープレシオ計算機



/////////////概要/////////////

yahooファイナンスで得た株価のcsvファイルの情報から簡易的にシャープレシオを見て投資効率を確認するプログラムです。


/////////////使い方/////////////

1.yahooファイナンス(https://finance.yahoo.com/)より、自分が投資している銘柄を最大期間でダウンロードする。
2.dataディレクトリにダウンロードしたファイルを置く。
3.analyze.pyを開き、自分が求めたいシャープレシオの期間に書き換えたのち実行してください。(正しく実行できていれば、./result/analyze.csvのファイルができているはずです)
4.cover.pyを開き、自分が求めたいシャープレシオの期間に書き換えたのち実行してください。(正しく実行できていれば、./result/analyze.csvのファイルができているはずです)
5(1).自身のシャープレシオを確認したい場合は./result/analyze.csvを開き、percentの列に各銘柄のポートフォリオに占める割合を書き込んだのち、sharp_ratio_cal.pyを実行してください。
5(2)../dataにいれた銘柄がどのような範囲のシャープレシオを取るのか確認したい場合は、sharp_ratio_graph.pyを実行してください。


/////////////プログラムの中身/////////////

analyze.py
 exchangeから為替を読み込み、日本円に換算。その後に、各年の一番最初のデータを抽出。
 抽出したデータから各銘柄のCAGRを計算。./result/analyze.csvに結果を出力。
cover.py
 exchangeから為替を読み込み、日本円に換算。その後に、各年の一番最初のデータを抽出。
 抽出したデータから年ごとの変化率を全銘柄で計算し、その共分散行列を求める。
sharp_ratio_cal.py
 自身のポートフォリオの割合をanalyze.csvのpercentから読み込み上二つのプログラムの結果からシャープレシオを計算
sharp_ratio_graph.py
 ランダムにポートフォリオの割合を生成。指定した点の数だけプロットし、グラフを出力。


/////////////ディレクトリの中身/////////////

./data
 各銘柄のcsvファイルを置く
./data_tmp
 銘柄のファイルをストックするのに使って下さい
./exchange
 ドル円、香港ドル円、ポンド円の銘柄を格納する場所です
./result
 analyze.csvとcover.csvの実行結果のファイルを格納しています。


/////////////動作環境とか/////////////

必要なライブラリ
 numpy,pandas コマンドプロンプトを開いてpip install numpy
                                                    pandas でダウンロード



/////////////プログラムの変数とか定義/////////////

risk : 株価の変動率の標準偏差。本プログラムでは一年おきの変動率でみてます。
return:株価の上昇具合。本プログラムでは年平均成長率(CAGRを使用)
CAGR:((直近年の収益/初年度の収益)^(1/経過年数))-1→本プログラムでは毎年分もとめてますが 抜いてるのは一番新しい年のやつです。
sharp_ratio:(平均リターン-安全資産利回り)/リスク
	    本プログラムでは(return-0.001)/riskで計算。安全資産利回りのところは日本の銀行の金利を適当にいれました(要検討)